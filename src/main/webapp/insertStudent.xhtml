<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <h:head>
        <title> Student Registration </title>
    </h:head>
     <h:body>
         <center>
             
        <h:form>
                <h:commandLink  value="Home" action="index" immediate="true"/> 
                <h:outputLabel value="&#160;&#160;&#160;&#160;&#160;&#160;" />
                <h:commandLink  value="VeiwStudent" action="viewAll" immediate="true"/>
                <br> </br> 
        </h:form>
             
      <p:panel>     
       <h:form>
        <p:dataTable id="dataTable" var="student" value="#{studentManagedBean.studentList}" paginator="true" rows="10" 
                         paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                         resizableColumns="true">
               <f:facet name="header">
                Student List
            </f:facet>
             <p:column  >                    
                    <f:facet name="header"> Admission No</f:facet>     
                     <h:commandLink value="#{student.admno}" action="updateStudent">
                     <f:setPropertyActionListener value="#{student}" target="#{studentManagedBean.selectedStudent}"/>
                     </h:commandLink>                                    
                </p:column>

                <p:column sortBy="#{student.name}">
                    <f:facet name="header">Student Name </f:facet>
                    <h:outputText value="#{student.name}"> </h:outputText> 
                </p:column> 
                
                <p:column>
                    <f:facet name="header">Address</f:facet>
                    <h:outputText value="#{student.address}" />  		                                            
                </p:column>

                <p:column>
                    <f:facet name="header">Grade</f:facet>
                    <h:outputText value="#{student.grade}" />    		
                </p:column>
                     
                <p:column>                    
                    <f:facet name="header">Parent Name</f:facet>     
                    <h:outputText value="#{student.parentName}" />                                        
                </p:column>    
            </p:dataTable>
        </h:form>  
  </p:panel>   
             
             <br> </br> 
             
             <p:panel header="Registration Form" > 
                 <form>
                    <h:message for="#{null}" errorStyle="color : red;" infoStyle="color : green"/>
                <h:panelGrid columns="3">
                          
                <h:outputLabel value="Student Name:" for="name"/>
                <h:inputText value="#{studentManagedBean.createStudent.name}" id="name" requiredMessage="Validation Error: Name is required" required="true"/> 
                <h:message for="name" errorStyle="color : red" /> 

                <h:outputLabel value="Address:" for="address"/>
                <h:inputText value="#{studentManagedBean.createStudent.address}" id="address"/> 
                <h:message for="address" errorStyle="color : red" /> 
            
                <h:outputLabel value="Grade:" for="grade"/>
                <h:selectOneMenu value="#{studentManagedBean.createStudent.grade}" id="grade" >  
                <f:selectItem itemLabel="1" itemValue="1" />  
                <f:selectItem itemLabel="2" itemValue="2" />  
                <f:selectItem itemLabel="3" itemValue="3" />  
                <f:selectItem itemLabel="4" itemValue="4" /> 
                <f:selectItem itemLabel="5" itemValue="5" /> 
                <f:selectItem itemLabel="6" itemValue="6" /> 
                <f:selectItem itemLabel="7" itemValue="7" /> 
                <f:selectItem itemLabel="8" itemValue="8" /> 
                <f:selectItem itemLabel="9" itemValue="9" />
                <f:selectItem itemLabel="10" itemValue="10" /> 
                <f:selectItem itemLabel="11" itemValue="11" /> 
                <f:selectItem itemLabel="12" itemValue="12" /> 
                <f:selectItem itemLabel="13" itemValue="13" />
                </h:selectOneMenu>  
                <h:message for="grade" errorStyle="color : red" /> 

            <h:outputLabel value="Parent Name :" for="parent"/>
            <h:inputText value="#{studentManagedBean.createStudent.parentName}" id="parent"  requiredMessage="Validation Error: Parent Name is required" required="true" immediate="true"/> 
            <h:message for="parent" errorStyle="color : red" /> 
            </h:panelGrid>
            
                    
            <h:commandButton  value="Register" actionListener="#{studentManagedBean.prepareCreate}"/>
            <h:outputLabel value="&#160;&#160;&#160;&#160;&#160;&#160;" />
            <h:commandButton value="Reset" type="reset"/> 
            <h:outputLabel value="&#160;&#160;&#160;&#160;&#160;&#160;" />
            <h:commandButton value="Cancel" action="index"/>
            </form>
          </p:panel>
             
       </center>
    </h:body>
</html>

